<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Scoring - CampaignPulse</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f5f5f5; }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        .header { background: #7c3aed; color: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .score-overview { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px; }
        .score-card { background: white; padding: 20px; border-radius: 8px; text-align: center; position: relative; }
        .score-circle { width: 120px; height: 120px; border-radius: 50%; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 32px; font-weight: bold; color: white; }
        .score-excellent { background: linear-gradient(135deg, #059669, #10b981); }
        .score-good { background: linear-gradient(135deg, #0ea5e9, #3b82f6); }
        .score-average { background: linear-gradient(135deg, #f59e0b, #f97316); }
        .score-poor { background: linear-gradient(135deg, #dc2626, #ef4444); }
        .score-label { font-size: 14px; color: #6b7280; margin-bottom: 10px; }
        .score-details { font-size: 12px; color: #9ca3af; }
        .campaigns-section { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .campaign-row { display: flex; align-items: center; padding: 15px; border-bottom: 1px solid #f3f4f6; }
        .campaign-name { flex: 1; font-weight: bold; }
        .score-badge { width: 60px; height: 30px; border-radius: 15px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 14px; margin: 0 10px; }
        .metrics-breakdown { display: flex; gap: 20px; font-size: 12px; color: #6b7280; }
        .scoring-factors { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .factor-item { display: flex; justify-content: between; align-items: center; padding: 10px 0; border-bottom: 1px solid #f3f4f6; }
        .factor-name { flex: 1; }
        .factor-weight { font-size: 12px; color: #6b7280; margin-right: 15px; }
        .factor-score { width: 50px; text-align: center; font-weight: bold; }
        .progress-bar { width: 100px; height: 8px; background: #f3f4f6; border-radius: 4px; overflow: hidden; margin-right: 15px; }
        .progress-fill { height: 100%; transition: width 0.3s ease; }
        .recommendations { background: white; padding: 20px; border-radius: 8px; }
        .recommendation-item { padding: 15px; margin: 10px 0; border-left: 4px solid #7c3aed; background: #f8fafc; border-radius: 4px; }
        .recommendation-title { font-weight: bold; color: #7c3aed; margin-bottom: 5px; }
        .recommendation-impact { font-size: 12px; color: #059669; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Performance Scoring Dashboard</h1>
            <p>AI-powered campaign performance analysis and scoring</p>
        </div>

        <div class="score-overview">
            <div class="score-card">
                <div class="score-circle score-excellent" id="overallScore">85</div>
                <div class="score-label">Overall Performance Score</div>
                <div class="score-details" id="overallGrade">Excellent</div>
            </div>
            <div class="score-card">
                <div class="score-circle score-good" id="roiScore">78</div>
                <div class="score-label">ROI Score</div>
                <div class="score-details">Good Performance</div>
            </div>
            <div class="score-card">
                <div class="score-circle score-excellent" id="engagementScore">92</div>
                <div class="score-label">Engagement Score</div>
                <div class="score-details">Excellent</div>
            </div>
            <div class="score-card">
                <div class="score-circle score-average" id="efficiencyScore">65</div>
                <div class="score-label">Efficiency Score</div>
                <div class="score-details">Needs Improvement</div>
            </div>
        </div>

        <div class="campaigns-section">
            <h2>Campaign Performance Scores</h2>
            <div id="campaignScores"></div>
        </div>

        <div class="scoring-factors">
            <h2>Scoring Factors Breakdown</h2>
            <div id="scoringFactors"></div>
        </div>

        <div class="recommendations">
            <h2>Performance Recommendations</h2>
            <div id="recommendationsList"></div>
        </div>
    </div>

    <script>
        let performanceData = {
            overall: { score: 85, grade: 'Excellent' },
            roi: { score: 78, grade: 'Good' },
            engagement: { score: 92, grade: 'Excellent' },
            efficiency: { score: 65, grade: 'Average' },
            campaigns: [
                { name: 'Google Ads - Black Friday', score: 88, roi: 45, ctr: 3.2, convRate: 2.8, spend: 1200 },
                { name: 'Facebook - Holiday Sale', score: 82, roi: 38, ctr: 2.9, convRate: 2.1, spend: 950 },
                { name: 'Instagram - Product Launch', score: 76, roi: 28, ctr: 4.1, convRate: 1.9, spend: 800 },
                { name: 'Email - Newsletter Campaign', score: 91, roi: 156, ctr: 8.7, convRate: 4.2, spend: 200 },
                { name: 'LinkedIn - B2B Outreach', score: 69, roi: 22, ctr: 1.8, convRate: 3.1, spend: 600 }
            ],
            factors: [
                { name: 'Return on Investment', weight: '30%', score: 78, value: 45 },
                { name: 'Click-through Rate', weight: '20%', score: 85, value: 3.2 },
                { name: 'Conversion Rate', weight: '25%', score: 82, value: 2.8 },
                { name: 'Cost Efficiency', weight: '15%', score: 65, value: 1.2 },
                { name: 'Audience Engagement', weight: '10%', score: 92, value: 4.5 }
            ],
            recommendations: [
                { title: 'Optimize LinkedIn Campaign', description: 'Improve targeting to increase CTR from 1.8% to 2.5%', impact: '+12 points', priority: 'High' },
                { title: 'Increase Instagram Budget', description: 'High engagement rate suggests room for scaling', impact: '+8 points', priority: 'Medium' },
                { title: 'Reduce Google Ads Spend', description: 'Optimize keywords to improve cost efficiency', impact: '+6 points', priority: 'Medium' },
                { title: 'A/B Test Email Subject Lines', description: 'Already performing well, test for further optimization', impact: '+4 points', priority: 'Low' }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            updateScoreDisplay();
            displayCampaignScores();
            displayScoringFactors();
            displayRecommendations();
            startScoreUpdates();
        });

        function updateScoreDisplay() {
            // Update main score circles
            document.getElementById('overallScore').textContent = performanceData.overall.score;
            document.getElementById('overallGrade').textContent = performanceData.overall.grade;
            document.getElementById('roiScore').textContent = performanceData.roi.score;
            document.getElementById('engagementScore').textContent = performanceData.engagement.score;
            document.getElementById('efficiencyScore').textContent = performanceData.efficiency.score;

            // Update circle colors based on scores
            updateScoreCircleColor('overallScore', performanceData.overall.score);
            updateScoreCircleColor('roiScore', performanceData.roi.score);
            updateScoreCircleColor('engagementScore', performanceData.engagement.score);
            updateScoreCircleColor('efficiencyScore', performanceData.efficiency.score);
        }

        function updateScoreCircleColor(elementId, score) {
            const element = document.getElementById(elementId);
            element.className = 'score-circle ' + getScoreClass(score);
        }

        function getScoreClass(score) {
            if (score >= 85) return 'score-excellent';
            if (score >= 70) return 'score-good';
            if (score >= 50) return 'score-average';
            return 'score-poor';
        }

        function getScoreGrade(score) {
            if (score >= 85) return 'Excellent';
            if (score >= 70) return 'Good';
            if (score >= 50) return 'Average';
            return 'Poor';
        }

        function displayCampaignScores() {
            const container = document.getElementById('campaignScores');
            
            container.innerHTML = performanceData.campaigns.map(campaign => `
                <div class="campaign-row">
                    <div class="campaign-name">${campaign.name}</div>
                    <div class="metrics-breakdown">
                        <div>ROI: ${campaign.roi}%</div>
                        <div>CTR: ${campaign.ctr}%</div>
                        <div>Conv: ${campaign.convRate}%</div>
                        <div>Spend: $${campaign.spend}</div>
                    </div>
                    <div class="score-badge ${getScoreClass(campaign.score)}">${campaign.score}</div>
                </div>
            `).join('');
        }

        function displayScoringFactors() {
            const container = document.getElementById('scoringFactors');
            
            container.innerHTML = performanceData.factors.map(factor => `
                <div class="factor-item">
                    <div class="factor-name">${factor.name}</div>
                    <div class="factor-weight">${factor.weight}</div>
                    <div class="progress-bar">
                        <div class="progress-fill ${getScoreClass(factor.score)}" style="width: ${factor.score}%"></div>
                    </div>
                    <div class="factor-score">${factor.score}</div>
                </div>
            `).join('');
        }

        function displayRecommendations() {
            const container = document.getElementById('recommendationsList');
            
            container.innerHTML = performanceData.recommendations.map(rec => `
                <div class="recommendation-item">
                    <div class="recommendation-title">${rec.title}</div>
                    <div>${rec.description}</div>
                    <div class="recommendation-impact">Potential Impact: ${rec.impact} | Priority: ${rec.priority}</div>
                </div>
            `).join('');
        }

        function startScoreUpdates() {
            setInterval(() => {
                updatePerformanceScores();
                updateScoreDisplay();
                displayCampaignScores();
                displayScoringFactors();
            }, 10000); // Update every 10 seconds
        }

        function updatePerformanceScores() {
            // Simulate score changes
            performanceData.campaigns.forEach(campaign => {
                const change = (Math.random() - 0.5) * 4; // -2 to +2 change
                campaign.score = Math.max(0, Math.min(100, campaign.score + change));
                campaign.roi += (Math.random() - 0.5) * 6;
                campaign.ctr += (Math.random() - 0.5) * 0.4;
                campaign.convRate += (Math.random() - 0.5) * 0.3;
            });

            // Recalculate overall scores
            const avgCampaignScore = performanceData.campaigns.reduce((sum, c) => sum + c.score, 0) / performanceData.campaigns.length;
            performanceData.overall.score = Math.round(avgCampaignScore);
            performanceData.overall.grade = getScoreGrade(performanceData.overall.score);

            // Update factor scores
            performanceData.factors.forEach(factor => {
                const change = (Math.random() - 0.5) * 3;
                factor.score = Math.max(0, Math.min(100, factor.score + change));
            });

            // Update individual metric scores
            performanceData.roi.score = performanceData.factors[0].score;
            performanceData.engagement.score = performanceData.factors[4].score;
            performanceData.efficiency.score = performanceData.factors[3].score;
        }

        // Manual score calculation function
        function calculateCampaignScore(campaign) {
            const roiWeight = 0.3;
            const ctrWeight = 0.2;
            const convWeight = 0.25;
            const efficiencyWeight = 0.15;
            const engagementWeight = 0.1;

            const roiScore = Math.min(100, Math.max(0, campaign.roi * 2));
            const ctrScore = Math.min(100, campaign.ctr * 25);
            const convScore = Math.min(100, campaign.convRate * 30);
            const efficiencyScore = Math.min(100, (1000 / campaign.spend) * 50);
            const engagementScore = Math.min(100, (campaign.ctr + campaign.convRate) * 15);

            return Math.round(
                roiScore * roiWeight +
                ctrScore * ctrWeight +
                convScore * convWeight +
                efficiencyScore * efficiencyWeight +
                engagementScore * engagementWeight
            );
        }
    </script>
</body>
</html>